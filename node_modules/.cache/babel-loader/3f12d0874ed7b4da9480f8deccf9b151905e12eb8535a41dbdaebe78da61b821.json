{"ast":null,"code":"import FloatingLabel from'react-bootstrap/FloatingLabel';import Form from'react-bootstrap/Form';import Col from'react-bootstrap/Col';import Button from'react-bootstrap/Button';import{useState,useEffect}from'react';import{createAccount}from'../../services/accountService';import accountPost from'../../services/accountPost';import authService from'../../services/authService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CreateAccount=()=>{const[accountType,setAccountType]=useState();const[initialdepoist,setInitialDeposit]=useState('');const[ssn,setSsn]=useState('');const[phnumber,setPhNumber]=useState('');const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const[userId,setUserId]=useState('');const[successMessage,setSuccessMessage]=useState('');const[currentUser,setCurrentUser]=useState(undefined);useEffect(()=>{const user=authService.getCurrentUser();if(user){setCurrentUser(user);setUserId(user.userId);console.log(user);}},[]);const handleSubmit=async e=>{e.preventDefault();setIsLoading(true);setError(null);setSuccessMessage('');try{// Call the createAccount function from accountService\nconst response=await accountPost.createAccount(currentUser.userId,accountType,initialdepoist);console.log(\"Status from server\",response);setSuccessMessage(response);}catch(err){var _err$response,_err$response$data;console.log(err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'An error occurred');// Using err to access the error object\n}finally{setIsLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{as:Col,controlId:\"formGridState\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Account Type\"}),/*#__PURE__*/_jsxs(Form.Select,{value:accountType||''// this ensures that accountType is not undefined\n,onChange:e=>setAccountType(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Choose...\"}),\" \",/*#__PURE__*/_jsx(\"option\",{value:\"CHECKING\",children:\"Checking Account\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SAVINGS\",children:\"Savings Account\"})]})]}),/*#__PURE__*/_jsx(FloatingLabel,{controlId:\"floatingInput\",label:\"Initial Deposit\",className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"number\",placeholder:\"Initial Deposit\",value:initialdepoist,onChange:e=>setInitialDeposit(e.target.value),required:true})}),/*#__PURE__*/_jsx(FloatingLabel,{controlId:\"floatingInput\",label:\"SSN\",className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"number\",placeholder:\"SSN\",value:ssn,onChange:e=>setSsn(e.target.value),required:true})}),/*#__PURE__*/_jsx(FloatingLabel,{controlId:\"floatingInput\",label:\"Phone Number\",className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"number\",placeholder:\"Phone Number\",value:phnumber,onChange:e=>setPhNumber(e.target.value),required:true})}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",type:\"submit\",disabled:isLoading,children:isLoading?'Submitting...':'Submit'})]}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success\",children:successMessage}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",children:[\"Error: \",error]})]})});};export default CreateAccount;","map":{"version":3,"names":["FloatingLabel","Form","Col","Button","useState","useEffect","createAccount","accountPost","authService","jsx","_jsx","jsxs","_jsxs","CreateAccount","accountType","setAccountType","initialdepoist","setInitialDeposit","ssn","setSsn","phnumber","setPhNumber","isLoading","setIsLoading","error","setError","userId","setUserId","successMessage","setSuccessMessage","currentUser","setCurrentUser","undefined","user","getCurrentUser","console","log","handleSubmit","e","preventDefault","response","err","_err$response","_err$response$data","data","message","className","children","onSubmit","Group","as","controlId","Label","Select","value","onChange","target","required","disabled","label","Control","type","placeholder","variant"],"sources":["/Users/architapalkar/Desktop/System-Protocol-Project/Secure-banking-system/src/pages/CreateAccount/CreateAccount.js"],"sourcesContent":["import FloatingLabel from 'react-bootstrap/FloatingLabel';\nimport Form from 'react-bootstrap/Form';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport { useState, useEffect } from 'react';\nimport { createAccount } from '../../services/accountService';\nimport accountPost from '../../services/accountPost';\nimport authService from '../../services/authService';\n\nconst CreateAccount = () => {\n    const [accountType, setAccountType] = useState();\n    const [initialdepoist, setInitialDeposit] = useState('');\n    const [ssn, setSsn] = useState('');\n    const [phnumber, setPhNumber] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [userId, setUserId] = useState('');\n    const [successMessage, setSuccessMessage] = useState('');\n\n    const [currentUser, setCurrentUser] = useState(undefined);\n\n    useEffect(() => {\n        const user = authService.getCurrentUser();\n\n        if (user) {\n            setCurrentUser(user);\n            setUserId(user.userId);\n            console.log(user);\n        }\n    }, []);\n\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setIsLoading(true);\n        setError(null);\n        setSuccessMessage('');\n\n        try {\n            // Call the createAccount function from accountService\n            const response = await accountPost.createAccount(currentUser.userId, accountType, initialdepoist);\n            console.log(\"Status from server\", response);\n            setSuccessMessage(response);\n        } catch (err) {\n            console.log(err);\n            setError(err.response?.data?.message || 'An error occurred'); // Using err to access the error object\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"container\">\n            <div className=\"mt-4\">\n                <Form onSubmit={handleSubmit}>\n                    <Form.Group as={Col} controlId=\"formGridState\" className='mb-3'>\n                        <Form.Label>Account Type</Form.Label>\n                        <Form.Select\n                            value={accountType || ''} // this ensures that accountType is not undefined\n                            onChange={(e) => setAccountType(e.target.value)}\n                            required\n                        >\n                            <option value=\"\" disabled>Choose...</option> {/* Default option */}\n                            <option value=\"CHECKING\">Checking Account</option>\n                            <option value=\"SAVINGS\">Savings Account</option>\n                        </Form.Select>\n                    </Form.Group>\n\n                    <FloatingLabel\n                        controlId=\"floatingInput\"\n                        label=\"Initial Deposit\"\n                        className=\"mb-3\"\n                    >\n                        <Form.Control type=\"number\" placeholder=\"Initial Deposit\" value={initialdepoist} onChange={(e) => setInitialDeposit(e.target.value)} required />\n                    </FloatingLabel>\n                    <FloatingLabel\n                        controlId=\"floatingInput\"\n                        label=\"SSN\"\n                        className=\"mb-3\"\n                    >\n                        <Form.Control type=\"number\" placeholder=\"SSN\" value={ssn} onChange={(e) => setSsn(e.target.value)} required />\n\n                    </FloatingLabel>\n                    <FloatingLabel\n                        controlId=\"floatingInput\"\n                        label=\"Phone Number\"\n                        className=\"mb-3\"\n                    >\n                        <Form.Control type=\"number\" placeholder=\"Phone Number\" value={phnumber} onChange={(e) => setPhNumber(e.target.value)} required />\n\n                    </FloatingLabel>\n                    <Button variant=\"secondary\" type=\"submit\" disabled={isLoading}>\n                        {isLoading ? 'Submitting...' : 'Submit'}\n                    </Button>\n                </Form>\n                {successMessage && <div className=\"alert alert-success\">{successMessage}</div>}\n\n                {error && <div className=\"alert alert-danger\">Error: {error}</div>}\n            </div>\n        </div>\n    );\n}\n\nexport default CreateAccount;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}