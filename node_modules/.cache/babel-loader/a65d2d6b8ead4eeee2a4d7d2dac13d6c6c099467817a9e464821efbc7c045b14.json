{"ast":null,"code":"import Button from'react-bootstrap/Button';import Card from'react-bootstrap/Card';import{Link}from'react-router-dom';import postService from'../../services/accountService';import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const AccountInfo=()=>{const[accounts,setAccounts]=useState([]);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const navigate=useNavigate();useEffect(()=>{setIsLoading(true);postService.getAllAccountsByUserId().then(response=>{setAccounts(response.data);setIsLoading(false);}).catch(error=>{var _error$response,_error$response$data;console.error('Error fetching accounts:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'An error occurred while fetching accounts.');setIsLoading(false);});},[]);const handleAccountClick=account=>{navigate('/accountDetails',{state:{account}});};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading accounts...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/createaccount\",children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"lg\",className:\"mb-4\",children:\"Create account\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger mt-3\",children:error}),accounts.map(account=>/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",onClick:()=>handleAccountClick(account),children:/*#__PURE__*/_jsxs(Card,{border:\"dark\",style:{width:'40 rem'},children:[/*#__PURE__*/_jsxs(Card.Header,{children:[\"Account Type: \",account.accountType]}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Title,{children:[\"Account Number: \",account.accountNumber]}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Account Id: \",account.id]})]})]})},account.id))]})})})});};export default AccountInfo;","map":{"version":3,"names":["Button","Card","Link","postService","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AccountInfo","accounts","setAccounts","isLoading","setIsLoading","error","setError","navigate","getAllAccountsByUserId","then","response","data","catch","_error$response","_error$response$data","console","message","handleAccountClick","account","state","className","children","to","variant","size","map","onClick","border","style","width","Header","accountType","Body","Title","accountNumber","Text","id"],"sources":["/Users/architapalkar/Desktop/System-Protocol-Project/Secure-banking-system/src/pages/AccountInfo/AccountInfo.js"],"sourcesContent":["import Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport { Link } from 'react-router-dom';\nimport postService from '../../services/accountService';\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst AccountInfo = () => {\n  const [accounts, setAccounts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const navigate=useNavigate();\n\n  useEffect(() => {\n    setIsLoading(true);\n    postService.getAllAccountsByUserId()\n      .then((response) => {\n        setAccounts(response.data);\n        setIsLoading(false);\n      })\n      .catch((error) => {\n        console.error('Error fetching accounts:', error);\n        setError(error.response?.data?.message || 'An error occurred while fetching accounts.');\n        setIsLoading(false);\n      });\n  }, []);\n  const handleAccountClick = (account) => {\n    navigate('/accountDetails', { state: { account } });\n  };\n  return (\n    <div className=\"container\">\n      <div className=\"mt-4\">\n        <div className=\"mb-4\">\n          {isLoading ? (\n            <div>Loading accounts...</div>\n          ) : (\n            <>\n              <Link to='/createaccount'>\n                <Button variant=\"secondary\" size=\"lg\" className='mb-4'>\n                  Create account\n                </Button>\n              </Link>\n              {error && <div className=\"alert alert-danger mt-3\">{error}</div>}\n              {accounts.map((account) => (\n                <div key={account.id} className='mb-4' onClick={() => handleAccountClick(account)}>\n                  <Card border=\"dark\" style={{ width: '40 rem' }}>\n                    <Card.Header>Account Type: {account.accountType}</Card.Header>\n                    <Card.Body>\n                      <Card.Title>Account Number: {account.accountNumber}</Card.Title>\n                      <Card.Text>\n                        Account Id: {account.id}\n                      </Card.Text>\n                    </Card.Body>\n                  </Card>\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AccountInfo;\n"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,wBAAwB,CAC3C,MAAO,CAAAC,IAAI,KAAM,sBAAsB,CACvC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,WAAW,KAAM,+BAA+B,CACvD,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE/C,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAAgB,QAAQ,CAACd,WAAW,CAAC,CAAC,CAE5BD,SAAS,CAAC,IAAM,CACdY,YAAY,CAAC,IAAI,CAAC,CAClBd,WAAW,CAACkB,sBAAsB,CAAC,CAAC,CACjCC,IAAI,CAAEC,QAAQ,EAAK,CAClBR,WAAW,CAACQ,QAAQ,CAACC,IAAI,CAAC,CAC1BP,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACDQ,KAAK,CAAEP,KAAK,EAAK,KAAAQ,eAAA,CAAAC,oBAAA,CAChBC,OAAO,CAACV,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDC,QAAQ,CAAC,EAAAO,eAAA,CAAAR,KAAK,CAACK,QAAQ,UAAAG,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBF,IAAI,UAAAG,oBAAA,iBAApBA,oBAAA,CAAsBE,OAAO,GAAI,4CAA4C,CAAC,CACvFZ,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CACN,KAAM,CAAAa,kBAAkB,CAAIC,OAAO,EAAK,CACtCX,QAAQ,CAAC,iBAAiB,CAAE,CAAEY,KAAK,CAAE,CAAED,OAAQ,CAAE,CAAC,CAAC,CACrD,CAAC,CACD,mBACEvB,IAAA,QAAKyB,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB1B,IAAA,QAAKyB,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB1B,IAAA,QAAKyB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAClBlB,SAAS,cACRR,IAAA,QAAA0B,QAAA,CAAK,qBAAmB,CAAK,CAAC,cAE9BxB,KAAA,CAAAE,SAAA,EAAAsB,QAAA,eACE1B,IAAA,CAACN,IAAI,EAACiC,EAAE,CAAC,gBAAgB,CAAAD,QAAA,cACvB1B,IAAA,CAACR,MAAM,EAACoC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,IAAI,CAACJ,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,gBAEvD,CAAQ,CAAC,CACL,CAAC,CACNhB,KAAK,eAAIV,IAAA,QAAKyB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAEhB,KAAK,CAAM,CAAC,CAC/DJ,QAAQ,CAACwB,GAAG,CAAEP,OAAO,eACpBvB,IAAA,QAAsByB,SAAS,CAAC,MAAM,CAACM,OAAO,CAAEA,CAAA,GAAMT,kBAAkB,CAACC,OAAO,CAAE,CAAAG,QAAA,cAChFxB,KAAA,CAACT,IAAI,EAACuC,MAAM,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,QAAS,CAAE,CAAAR,QAAA,eAC7CxB,KAAA,CAACT,IAAI,CAAC0C,MAAM,EAAAT,QAAA,EAAC,gBAAc,CAACH,OAAO,CAACa,WAAW,EAAc,CAAC,cAC9DlC,KAAA,CAACT,IAAI,CAAC4C,IAAI,EAAAX,QAAA,eACRxB,KAAA,CAACT,IAAI,CAAC6C,KAAK,EAAAZ,QAAA,EAAC,kBAAgB,CAACH,OAAO,CAACgB,aAAa,EAAa,CAAC,cAChErC,KAAA,CAACT,IAAI,CAAC+C,IAAI,EAAAd,QAAA,EAAC,cACG,CAACH,OAAO,CAACkB,EAAE,EACd,CAAC,EACH,CAAC,EACR,CAAC,EATClB,OAAO,CAACkB,EAUb,CACN,CAAC,EACF,CACH,CACE,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAApC,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}